{
  "_args": [
    [
      {
        "raw": "inovia-api-client@^2.0.0",
        "scope": null,
        "escapedName": "inovia-api-client",
        "name": "inovia-api-client",
        "rawSpec": "^2.0.0",
        "spec": ">=2.0.0 <3.0.0",
        "type": "range"
      },
      "/home/esibern/Desktop/Hydra2/node_modules/insight-xds-components"
    ]
  ],
  "_from": "inovia-api-client@>=2.0.0 <3.0.0",
  "_id": "inovia-api-client@2.2.1",
  "_inCache": true,
  "_location": "/insight-xds-components/inovia-api-client",
  "_nodeVersion": "6.7.0",
  "_npmUser": {
    "name": "deployment",
    "email": "noreply@inovia.nu"
  },
  "_npmVersion": "3.10.3",
  "_phantomChildren": {},
  "_requested": {
    "raw": "inovia-api-client@^2.0.0",
    "scope": null,
    "escapedName": "inovia-api-client",
    "name": "inovia-api-client",
    "rawSpec": "^2.0.0",
    "spec": ">=2.0.0 <3.0.0",
    "type": "range"
  },
  "_requiredBy": [
    "/insight-xds-components",
    "/insight-xds-components/insight-shared-components"
  ],
  "_resolved": "https://nexus.inoviagroup.se/content/groups/npm/inovia-api-client/-/inovia-api-client-2.2.1.tgz",
  "_shasum": "e6d25e3c9ee620f8e764d6c9e0a58af5c25d52ed",
  "_shrinkwrap": null,
  "_spec": "inovia-api-client@^2.0.0",
  "_where": "/home/esibern/Desktop/Hydra2/node_modules/insight-xds-components",
  "author": {
    "name": "Jonas Hartwig",
    "email": "jonas.hartwig@inoviagroup.se"
  },
  "bugs": {
    "url": "https://github.com/inovia-group/inovia-npm-packages/issues"
  },
  "dependencies": {
    "axios": "~0.12.0"
  },
  "description": "ES6 Promise based api client",
  "devDependencies": {
    "babel-cli": "^6.9.0",
    "babel-eslint": "^7.1.1",
    "babel-plugin-rewire": "^1.0.0",
    "babel-preset-es2015": "^6.9.0",
    "babel-preset-stage-1": "^6.5.0",
    "babelify": "^7.3.0",
    "browserify": "^13.1.0",
    "eslint": "^3.10.2",
    "jasmine-core": "^2.5.2",
    "karma": "^1.3.0",
    "karma-babel-preprocessor": "^6.0.1",
    "karma-browserify": "^5.1.0",
    "karma-jasmine": "^1.0.2",
    "karma-phantomjs-launcher": "^1.0.2",
    "karma-sinon": "^1.0.5",
    "ncp": "^2.0.0",
    "phantomjs-polyfill-object-assign": "0.0.2",
    "pre-commit": "^1.1.3",
    "recursive-uglifyjs": "^1.0.0",
    "rimraf": "^2.5.4",
    "sinon": "^1.17.6",
    "watchify": "^3.7.0"
  },
  "dist": {
    "shasum": "e6d25e3c9ee620f8e764d6c9e0a58af5c25d52ed",
    "tarball": "https://nexus.inoviagroup.se/content/groups/npm/inovia-api-client/-/inovia-api-client-2.2.1.tgz"
  },
  "homepage": "https://github.com/inovia-group/inovia-npm-packages#readme",
  "license": "Inovia AB",
  "main": "index.js",
  "maintainers": [
    {
      "name": "deployment",
      "email": "noreply@inovia.nu"
    }
  ],
  "name": "inovia-api-client",
  "optionalDependencies": {},
  "peerDependencies": {
    "axios": "~0.12.0"
  },
  "pre-commit": [
    "test"
  ],
  "private": false,
  "readme": "# inovia-js-api-client\n\ncompatible to Insight 5.1-GA\n\nThis project contains reusable plain ES6 Promise based api client for Inovia products.\n\nThey are ordered by productName/service/endpoint\n\nexample to get rtc query service:\n\n```javascript\nimport { rawQuery } from \"insight-js-api-client/insight/rtc/query\";\n```\n\nThe corresponding endpoint url would be:\nhttp://localhost:7776/rtc-service/query/raw\n\nThis package requires environment variables to be set. They are service related and are optional. Optional in that case means that they are only required if an endpoint is queried.\n\nThe endpoint configuration is required to have a tailing /, meaning: http://localhost:7776/rtc-service is invalid where as http://localhost:7776/rtc-service/ is valid.\n\nAn example on how to define those variables during build with webpack:\n```javascript\nplugins: [\n    new webpack.DefinePlugin({\n        \"X_SERVICE_URL\": JSON.stringify(\"http://my.ci.environment.de/x-service/\"),\n        \"Y_SERVICE_URL\": JSON.stringify(\"http://my.ci.environment.de/y-service/\")\n        ...\n    })\n]\n```\n\nAs an alternative you can leverage configure function imported directly from the package :\n```javascript\n    import { configure } from \"inovia-api-client\";\n```\nafterwards you can configure the endpoints with something like this:\n```javascript\n    httpClient.get(URL)\n     .then(env => configure(env))\n ```\n The url should return a json file with the same keys. If this is not used it falls back to the global variables.\n\n\nAll endpoints in general use the following status codes:\n200 OK, 204 NoContent, 400 BadRequest (together with some information), 401 Unauthorized (session invalid), 403 Forbidden, 404 NotFound, 409 Conflict, 500 InternalServerError\n\nIf a token is set using the tokenService all requests are signed using that token.\n\nThe config parameter to all services is optional.\n\n### http client\n* `get(url: STRING, config: OBJECT)`:\n  get a resource\n\n* `post(url: STRING, payload: OBJECT, config: OBJECT)`:\n  post some data to the server\n\n* `put(url: STRING, payload: OBJECT, config: OBJECT)`:\n  put some data to the server\n\n* `_delete(url: STRING, payload: OBJECT, config: OBJECT)`:\n  delete some data\n\n* `upload(url: STRING, file: FILE, fileName: STRING (optional), formFileFieldName = \"file\": STRING (optional), fields: OBJECT (key value pairs), progressCallback: FUNCTION (optional), config: OBJECT)`:\n  upload a file to the server using multipart/form-data\n\nconfig example:\n```javascript\n{\n    responseType: \"text\",\n    impersonate: { by: \"XILA\": with: \"some value\"}\n}\n```\n\nconfig default:\n```javascript\n{\n    responseType: \"json\",\n    method: \"GET\",\n    headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n    }\n}\n```\n\nThe method is set correctly by the corresponding functions in http client.\n\n### token service\n* `setToken(token: STRING)`:\n  add a token to the sessionStorage\n\n* `removeToken()`:\n    removes token from sessionStorage\n\n* `getToken()`:\n    get the token from the sessionStorage\n\nA token is usually acquired from the server by using the systems login endpoint.\n\n## Insight\n\nrequired endpoint configuration: `RTC_DISPATCHER_URL`, `RTC_SERVICE_URL`, `APP_SERVICE_URL`, `ARCHIVE_SERVICE_URL`, `RAWDATA_DISPATCHER_URL`\n\n### endpoint: dashboard (insight/app/dashboard):\n* `listDashboards(config: OBJECT)`:\n  returns a list of all dashboards (by id and name) the logged in, or impersonated user can see.\n\n* `getDashboard(id: STRING, config: OBJECT)`:\n  returns the configuration of a single dashboard\n\n* `deleteDashboard(id: STRING, config: OBJECT)`:\n  deletes a dashboard by id\n\n* `updateDashboard(dashboard: OBJECT, config: OBJECT)`:\n  update a dashboard (id required), widgets need to be present and each widget needs to have a configuration\n\n* `createDashboard(dashboard: OBJECT, config: OBJECT)`:\n  create a dashboard (id cannot be given), widgets need to be present and each widget needs to have a configuration\n\ndashboard example config:\n```javascript\n{\n    \"layout\": {\n        \"lg\": [{\n            \"i\": \"0\",\n            \"h\": 2,\n            \"w\": 4,\n            \"y\": 0,\n            \"x\": 0\n        }, {\n            \"i\": \"1\",\n            \"h\": 2,\n            \"w\": 8,\n            \"x\": 5,\n            \"y\": 0\n        }, {\n            \"i\": \"2\",\n            \"h\": 2,\n            \"w\": 4,\n            \"x\": 0,\n            \"y\": 1\n        }, {\n            \"i\": \"3\",\n            \"h\": 2,\n            \"w\": 8,\n            \"x\": 5,\n            \"y\": 1\n        }, {\n            \"i\": \"4\",\n            \"h\": 2,\n            \"w\": 12,\n            \"x\": 0,\n            \"y\": 2\n        }],\n        \"md\": [{\n            \"x\": 0,\n            \"y\": 0,\n            \"w\": 3,\n            \"h\": 2,\n            \"i\": \"0\"\n        }, {\n            \"i\": \"1\",\n            \"h\": 2,\n            \"w\": 5,\n            \"x\": 0,\n            \"y\": 4\n        }, {\n            \"i\": \"2\",\n            \"h\": 2,\n            \"w\": 3,\n            \"x\": 1,\n            \"y\": 0\n        }, {\n            \"i\": \"3\",\n            \"h\": 2,\n            \"w\": 5,\n            \"x\": 1,\n            \"y\": 4\n        }, {\n            \"i\": \"4\",\n            \"h\": 2,\n            \"w\": 8,\n            \"x\": 2,\n            \"y\": 0\n        }],\n        \"sm\": [{\n            \"x\": 0,\n            \"y\": 0,\n            \"w\": 2,\n            \"h\": 2,\n            \"i\": \"0\"\n        }, {\n            \"i\": \"1\",\n            \"h\": 2,\n            \"w\": 4,\n            \"x\": 0,\n            \"y\": 3\n        }, {\n            \"i\": \"2\",\n            \"h\": 2,\n            \"w\": 2,\n            \"x\": 1,\n            \"y\": 0\n        }, {\n            \"i\": \"3\",\n            \"h\": 2,\n            \"w\": 4,\n            \"x\": 1,\n            \"y\": 3\n        }, {\n            \"i\": \"4\",\n            \"h\": 2,\n            \"w\": 6,\n            \"x\": 2,\n            \"y\": 0\n        }]\n    },\n    \"widgets\": [{\n        \"type\": \"nu.inovia.insight.record-counter\",\n        \"setting\": {\n            \"name\": \"File Count\",\n            \"storeName\": storeName\n        },\n        \"receivedSignal\": {},\n        \"groups\": []\n    }, {\n        \"type\": \"nu.inovia.insight.filesize-calculator\",\n        \"setting\": {\n            \"name\": \"Store Size\",\n            \"storeName\": storeName\n        },\n        \"receivedSignal\": {},\n        \"groups\": []\n    }, {\n        \"type\": \"nu.inovia.insight.base.pivot.pie.single\",\n        \"setting\": {\n            \"dataRetriever\": {\n                \"jsonQuery\": {\n                    \"groupBy\": [{\n                        \"field\": \"senderUserName\"\n                    }],\n                    \"queries\": [{\n                        \"name\": \"F1\",\n                        \"formula\": \"CNT{[_time]}\",\n                        \"datastore\": storeName\n                    }]\n                },\n                \"pivotConfig\": {\n                    \"groupByXCount\": 1\n                }\n            },\n            \"echarts\": {\n                \"title\": {\n                    \"show\": true,\n                    \"text\": \"Users\",\n                    \"subtext\": \"\",\n                    \"x\": \"center\"\n                },\n                \"legend\": {\n                    \"show\": true,\n                    \"top\": \"10px\",\n                    \"orient\": \"vertical\",\n                    \"x\": \"left\"\n                }\n            }\n        },\n        \"receivedSignal\": {},\n        \"groups\": []\n    }, {\n        \"type\": \"nu.inovia.insight.react.echarts.pivot.scatter.line.bar\",\n        \"setting\": {\n            \"dataRetriever\": {\n                \"jsonQuery\": {\n                    \"groupBy\": [{\n                        \"field\": \"_time\",\n                        \"interval\": \"1day\"\n                    }],\n                    \"queries\": [{\n                        \"name\": \"F1\",\n                        \"formula\": \"CNT{[_time]}\",\n                        \"datastore\": storeName\n                    }]\n                },\n                \"pivotConfig\": {\n                    \"groupByXCount\": 1\n                }\n            },\n            \"echarts\": {\n                \"title\": {\n                    \"show\": true,\n                    \"text\": \"Uploads over time\",\n                    \"subtext\": \"\",\n                    \"x\": \"center\"\n                },\n                \"legend\": {\n                    \"show\": true,\n                    \"top\": \"30px\",\n                    \"x\": \"center\"\n                },\n                \"series\": [{\n                    \"type\": \"line\",\n                    \"name\": \"F1\"\n                }]\n            }\n        },\n        \"receivedSignal\": {},\n        \"groups\": []\n    }, {\n        \"type\": \"nu.inovia.insight.rds.table\",\n        \"setting\": {\n            \"dataRetriever\": {\n                \"jsonQuery\": {\n                    \"page\": 1,\n                    \"pageSize\": 20,\n                    \"sortDescriptions\": [{\n                        \"field\": \"_time\",\n                        \"sortOrder\": \"DESC\"\n                    }],\n                    \"store\": storeName,\n                    \"timeZone\": timeZone\n                }\n            }\n        },\n        \"receivedSignal\": {},\n        \"groups\": []\n    }],\n    \"isPublic\": false,\n    \"name\": \"archive-data-store-statistics\",\n    \"tags\": []\n}\n```\n\n### endpoint: favorite (insight/app/favorite):\n* `add(favorite: OBJECT, config: OBJECT)`:\n  create a new favorite\n\n* `remove(id: STRING, config: OBJECT)`:\n  remove a favorite\n\nfavorite example:\n```javascript\n{\n    type: STRING, // one of: \"DASHBOARD\", \"QUERY\", \"DATASTORE\", \"ADATASTORE\", \"REPORT\"\n    identifier: STRING,\n    name: STRING // optional\n}\n```\n\n### endpoint: search (insight/app/search):\n* `search(search: OBJECT, config: OBJECT)`:\n  search for resources\n\nconfig example:\n```javascript\n{\n    includeDataStores: BOOLEAN,\n    includeDashboards: BOOLEAN,\n    includeQueries: BOOLEAN,\n    includeReports: BOOLEAN,\n    text: STRING\n}\n```\n\n### endpoint: share (insight/app/share):\n* `setSharePermission(share: OBJECT, config: OBJECT)`:\n  create share for an resource, id may not be present\n\n* `updateSharePermission(share: OBJECT, config: OBJECT)`:\n  update share for a resource, id must be present\n\n* `removeSharePermission(id: STRING)`:\n  remove share for a resource\n\nconfig example:\n```javascript\n{\n    identifier: STRING,\n    shareByLinkAccessType: STRING, // one of \"NONE\", \"READ\", \"WRITE\"\n    users:[{\n        shareAccessType: STRING, // one of \"NONE\", \"READ\", \"WRITE\"\n        userName: STRING\n    }]\n}\n```\n\n### endpoint: user (insight/app/user):\n* `login(creds: OBJECT, config: OBJECT)`:\n  create a session (by default contains userName and password)\n\n* `logout(config: OBJECT)`:\n  invalidates a session\n\n* `whoAmI(config: OBJECT)`:\n  get info about the current user\n\n### endpoint: user (insight/app/stagedStore):\n* `getStagedStore(storeName: STRING, config: OBJECT)`:\n  get info about a staged store\n\n* `updateStagedStore(lcmData: OBJECT, config: OBJECT)`:\n  update a staged store\n\n* `acceptStagedStore(storeId: STRING, owner: STRING, config: OBJECT)`:\n  accept a staged store\n\n* `isStagedStore(storeName: STRING, config: OBJECT)`:\n  check if `storeName` is a staged store\n\n### endpoint: archive (insight/archive/archive):\n* `listRoot(storeName: STRING, config: OBJECT)`:\n  list the root of the ADS\n\n* `listFolder(storeName: STRING, path: STRING, config: OBJECT)`:\n  lists the content of a folder given its absolute path, where / is the root\n\n* `create({ name: STRING, owner: STRING }, config: OBJECT)`:\n  create a new default data store\n\n* `deleteStore(storeType: STRING, storeName: STRING, config: OBJECT)`:\n  delete a store\n\n* `deleteFile(storeName: STRING, fileId: STRING, config: OBJECT)`:\n  delete a single file\n\n* `preview(storeName: STRING, fileId: STRING, page = 0: INT, numChars = 1000: INT, config: OBJECT)`:\n  get stringified file content\n\n* `generateDownloadLink(storeName: STRING, fileId: STRING)`:\n  get the link to download a file\n\n* `search(storeName: STRING, queryString: STRING, config: OBJECT)`:\n  search the metadata\n\n### endpoint: rtc store (insight/rtc/store):\n* `create(dataStore: OBJECT, config: OBJECT)`:\n  create a new default data store\n\n* `deleteStore(storeName: STRING, config: OBJECT)`:\n  delete a store\n\n* `refresh(storeName: STRING, config: OBJECT)`:\n  refresh a store mapping\n\n* `finalize(storeName: STRING, config: OBJECT)`:\n  finalize a store\n\n* `count(storeName: STRING, config: OBJECT)`:\n  count documents in a store\n\n* `getLifeCyclePolicy(storeName: STRING, config: OBJECT)`:\n  get lifecycle policy for a store\n\n* `updateLifeCyclePolicy(lcmData: OBJECT, config: OBJECT)`:\n  update the lifecycle policy of a store\n\n### endpoint: postFile (insight/rawdata-dispatcher/data):\n* `postFile(file: FILE, fileName: STRING, data: OBJECT (key value), processCallback: FUNCTION, config: OBJECT)`:\n  send a file to the server\n\n### endpoint: progress (insight/rawdata-dispatcher/progress):\n* `getProgress(executionId: STRING, config: OBJECT)`:\n  get the progress of post processing\n\n### endpoint: doc (insight/rtc-dispatcher/doc):\n* `createDocuments(storeName: STRING, documents: [{ key: \"value\" }], config: OBJECT)`:\n sends collection of documents for instertion, the storeName will be enrighed to all documents as field store\n\n* `createDocument(storeName: STRING, documents: { key: \"value\" }, config: OBJECT)`:\n  sends s document for instertion, the storeName will be enrighed to the document as field store\n\n## IOT\n\nrequired endpoint configuration: `IOT_SERVICE_URL`\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/inovia-group/inovia-npm-packages.git"
  },
  "scripts": {
    "build": "rimraf dist && npm run build:js && npm run uglify && npm run copy",
    "build:js": "eslint src && babel src --out-dir dist",
    "copy": "ncp dist .",
    "prepublish": "npm run test && npm run build",
    "test": "NODE_ENV=test karma start test/karma.conf.js",
    "uglify": "recursive-uglifyjs dist"
  },
  "version": "2.2.1"
}
