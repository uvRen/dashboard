"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),_react=require("react"),_react2=_interopRequireDefault(_react),_reactIntl=require("react-intl"),_Table=require("material-ui/Table"),_security=require("../../actions/security"),XDSSecurityView=function(e){function t(){var e;_classCallCheck(this,t);for(var a=arguments.length,r=Array(a),l=0;a>l;l++)r[l]=arguments[l];var n=_possibleConstructorReturn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return n._selectRows=n._selectRows.bind(n),n}return _inherits(t,e),_createClass(t,[{key:"_selectRows",value:function(e){var t=this.props,a=t.dispatch,r=t.security,l=r.securityTokens;if("all"===e){e=[];for(var n=l.size;n--;)e[n]=n}else"none"===e&&(e=[]);a(_security.selectRows(e))}},{key:"render",value:function(){var e=this.props.security,t=e.securityTokens,a=e.selectedSecurityTokens,r=t.toJS().map(function(e,t){var r=-1!==a.indexOf(t);return _react2["default"].createElement(_Table.TableRow,{key:t,selected:r},_react2["default"].createElement(_Table.TableRowColumn,null,e.name),_react2["default"].createElement(_Table.TableRowColumn,null,e.type),_react2["default"].createElement(_Table.TableRowColumn,null,e.read.toString()),_react2["default"].createElement(_Table.TableRowColumn,null,e.write.toString()),_react2["default"].createElement(_Table.TableRowColumn,null,e.admin.toString()))});return _react2["default"].createElement(_Table.Table,{multiSelectable:!0,onRowSelection:this._selectRows},_react2["default"].createElement(_Table.TableHeader,{adjustForCheckbox:!0,displaySelectAll:!0,enableSelectAll:!0},_react2["default"].createElement(_Table.TableRow,null,_react2["default"].createElement(_Table.TableHeaderColumn,null,_react2["default"].createElement(_reactIntl.FormattedMessage,{id:"name"})),_react2["default"].createElement(_Table.TableHeaderColumn,null,_react2["default"].createElement(_reactIntl.FormattedMessage,{id:"type"})),_react2["default"].createElement(_Table.TableHeaderColumn,null,_react2["default"].createElement(_reactIntl.FormattedMessage,{id:"insight.xds.component.security.read"})),_react2["default"].createElement(_Table.TableHeaderColumn,null,_react2["default"].createElement(_reactIntl.FormattedMessage,{id:"insight.xds.component.security.write"})),_react2["default"].createElement(_Table.TableHeaderColumn,null,_react2["default"].createElement(_reactIntl.FormattedMessage,{id:"insight.xds.component.security.admin"})))),_react2["default"].createElement(_Table.TableBody,{deselectOnClickaway:!1,displayRowCheckbox:!0},r))}}]),t}(_react2["default"].Component);XDSSecurityView.propTypes={security:_react2["default"].PropTypes.object.isRequired,dispatch:_react2["default"].PropTypes.func.isRequired},exports["default"]=XDSSecurityView;