"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.initialState=exports.LcmReducerRecord=exports.LcmRecord=exports.OperationSchedulesRecord=exports.LcmCloseRecord=exports.LcmDeleteRecord=exports.LcmFinalizeRecord=void 0;var _ACTION_TYPES=require("../infrastructure/ACTION_TYPES"),_immutable=require("immutable"),_immutable2=_interopRequireDefault(_immutable),LcmFinalizeRecord=exports.LcmFinalizeRecord=_immutable2["default"].Record({enabled:!1,execute:!1,interval:-1,lastExecuted:-1,schedule:"SINCE_LAST_DATA",timeSinceLimit:36e5}),LcmDeleteRecord=exports.LcmDeleteRecord=_immutable2["default"].Record({enabled:!1,execute:!1,interval:-1,lastExecuted:-1,schedule:"SINCE_STORE_CREATION",timeSinceLimit:-1}),LcmCloseRecord=exports.LcmCloseRecord=_immutable2["default"].Record({enabled:!1,execute:!1,interval:-1,lastExecuted:-1,schedule:"SINCE_STORE_CREATION",timeSinceLimit:-1}),OperationSchedulesRecord=exports.OperationSchedulesRecord=_immutable2["default"].Record({CLOSE:new LcmCloseRecord,DELETE:new LcmDeleteRecord,FINALIZE:new LcmFinalizeRecord}),LcmRecord=exports.LcmRecord=_immutable2["default"].Record({lastUpdated:void 0,operationSchedules:new OperationSchedulesRecord,storeName:void 0,storeType:void 0}),LcmReducerRecord=exports.LcmReducerRecord=_immutable2["default"].Record({model:new LcmRecord,showResetContentDialog:!1,showCloseContentDialog:!1,showSaveContentDialog:!1,isDirty:!1}),initialState=exports.initialState=new LcmReducerRecord;exports["default"]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,t=arguments[1];switch(t.type){case _ACTION_TYPES.LCM_ACTIONS.INITIALIZE:return new LcmReducerRecord({model:new LcmRecord({storeName:t.storeName}),isStagedStore:t.isStagedStore});case _ACTION_TYPES.LCM_ACTIONS.SET_DATA:var o=t.data;return e.set("model",new LcmRecord({lastUpdated:o.lastUpdated,operationSchedules:new OperationSchedulesRecord({CLOSE:new LcmCloseRecord(o.operationSchedules.CLOSE),DELETE:new LcmDeleteRecord(o.operationSchedules.DELETE),FINALIZE:new LcmFinalizeRecord(o.operationSchedules.FINALIZE)}),storeName:o.storeName,storeType:o.storeType}));case _ACTION_TYPES.LCM_ACTIONS.IS_DIRTY:return e.set("isDirty",!0);case _ACTION_TYPES.LCM_ACTIONS.IS_NOT_DIRTY:return e.set("isDirty",!1);case _ACTION_TYPES.LCM_ACTIONS.TOGGLE_RESET_CONTENT_DIALOG:return e.set("showResetContentDialog",!e.showResetContentDialog);case _ACTION_TYPES.LCM_ACTIONS.TOGGLE_CLOSE_CONTENT_DIALOG:return e.set("showCloseContentDialog",!e.showCloseContentDialog);case _ACTION_TYPES.LCM_ACTIONS.TOGGLE_SAVE_CONTENT_DIALOG:return e.set("showSaveContentDialog",!e.showSaveContentDialog);case _ACTION_TYPES.LCM_ACTIONS.CLOSE_ALL:return e.merge({showSaveContentDialog:!1,showCloseContentDialog:!1,showResetContentDialog:!1});case _ACTION_TYPES.LCM_ACTIONS.TOGGLE_EXECUTE:var r=e.updateIn(["model","operationSchedules",t.operation,"execute"],function(e){return!e});return r.updateIn(["model","operationSchedules",t.operation,"enabled"],function(e){return r.getIn(["model","operationSchedules",t.operation,"execute"])});case _ACTION_TYPES.LCM_ACTIONS.CHANGE_INTERVAL:return e.setIn(["model","operationSchedules","FINALIZE","interval"],t.value);case _ACTION_TYPES.LCM_ACTIONS.CHANGE_SCHEDULE:return e.setIn(["model","operationSchedules",t.operation,"schedule"],t.value);case _ACTION_TYPES.LCM_ACTIONS.CHANGE_TIME:return e.setIn(["model","operationSchedules",t.operation,"timeSinceLimit"],t.value);default:return e}};