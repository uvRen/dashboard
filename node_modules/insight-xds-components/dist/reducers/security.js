"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.initialState=exports.XDSecurityReducerRecord=exports.SecurityTokenRecord=void 0;var _immutable=require("immutable"),_immutable2=_interopRequireDefault(_immutable),_ACTION_TYPES=require("../infrastructure/ACTION_TYPES"),SecurityTokenRecord=exports.SecurityTokenRecord=_immutable2["default"].Record({version:0,securityTokenId:"",token:"",type:"SCRIPT_KEY",name:"",description:"",store:"",read:!1,write:!1,admin:!1}),XDSecurityReducerRecord=exports.XDSecurityReducerRecord=_immutable2["default"].Record({securityTokens:_immutable2["default"].List(),selectedSecurityTokens:_immutable2["default"].List(),showAddDialog:!1,showDeleteDialog:!1}),initialState=exports.initialState=new XDSecurityReducerRecord;exports["default"]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,t=arguments[1];switch(t.type){case _ACTION_TYPES.XDS_SECURITY_ACTIONS.SHOW_ADD_DIALOG:return e.set("showAddDialog",!0);case _ACTION_TYPES.XDS_SECURITY_ACTIONS.HIDE_ADD_DIALOG:return e.set("showAddDialog",!1);case _ACTION_TYPES.XDS_SECURITY_ACTIONS.SHOW_DELETE_DIALOG:return e.set("showDeleteDialog",!0);case _ACTION_TYPES.XDS_SECURITY_ACTIONS.HIDE_DELETE_DIALOG:return e.set("showDeleteDialog",!1);case _ACTION_TYPES.XDS_SECURITY_ACTIONS.SELECT_ROWS:return e.set("selectedSecurityTokens",_immutable2["default"].List(t.selectedRowIndexes));case _ACTION_TYPES.XDS_SECURITY_ACTIONS.INITIALIZE:return e.set("securityTokens",_immutable2["default"].List(t.securityTokens.map(function(e){return new SecurityTokenRecord(e)})));case _ACTION_TYPES.XDS_SECURITY_ACTIONS.ADD:return e.update("securityTokens",function(e){return e.push(new SecurityTokenRecord(t.toAdd))});case _ACTION_TYPES.XDS_SECURITY_ACTIONS.DELETE:return Array.isArray(t.toRemove)?e.update("securityTokens",function(e){return e.filter(function(e){return t.toRemove.find(function(t){return t.securityTokenId!==e.securityTokenId})})}):e.update("securityTokens",function(e){return e.filter(function(e){return e.securityTokenId!==t.toRemove.securityTokenId})});default:return e}};