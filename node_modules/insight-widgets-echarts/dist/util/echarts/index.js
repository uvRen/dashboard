"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _objectWithoutProperties(e,r){var a={};for(var t in e)r.indexOf(t)>=0||Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t]);return a}function buildSeriesData(e,r,a,t,i){var s=t.values,u=a.echarts,o=a.queries;return(o||[]).map(function(a){var t=_aggregationResultParser.getActualDataForLabels(r,s,a);return Object.assign({},u?u.series:{},{type:e,name:a.name,data:i&&"function"==typeof i?i(t,r):t})})}function parse(e,r,a){if(!e||!e.type)throw"parse: no type on options";var t=e.type,i=e.series,s=e.valueTransformation,u=e.mapQueryToYAxis,o=e.yAxis,n=e.xAxis,l=_objectWithoutProperties(e,["type","series","valueTransformation","mapQueryToYAxis","yAxis","xAxis"]),p=a.values,_=r.groupBy,f=_aggregationResultParser.getXAxisLabels(_||[],p),d=buildSeriesData(t,f,r,a,s),c={};switch(t){case"bar":c=_bar2["default"](e,r,a,f,d);break;case"line":c=_line2["default"](e,r,a,f,d);break;case"map":c=_map2["default"](e,r,a,f,d);break;case"pie":c=_pie2["default"](e,r,a,f,d)}return(i||u)&&c.series&&c.series.forEach(function(e,a){var t=u?u(r.queries[a]):0;_lodash2["default"](e,i,{yAxisIndex:t})}),o&&c.yAxis&&c.yAxis.forEach(function(e){return _lodash2["default"](e,o)}),n&&c.xAxis&&_lodash2["default"](c.xAxis,n),_lodash2["default"](c,l)}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=parse;var _lodash=require("lodash.merge"),_lodash2=_interopRequireDefault(_lodash),_aggregationResultParser=require("../aggregationResultParser"),_line=require("./line"),_line2=_interopRequireDefault(_line),_bar=require("./bar"),_bar2=_interopRequireDefault(_bar),_pie=require("./pie"),_pie2=_interopRequireDefault(_pie),_map=require("./map"),_map2=_interopRequireDefault(_map);