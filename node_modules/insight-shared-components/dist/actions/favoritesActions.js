"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r["default"]=e,r}function startSynchronize(){return{type:_ACTION_TYPES.FAVORITE_ACTIONS.SYNCHRONIZE,isSynchronizing:!0}}function endSynchronize(){return{type:_ACTION_TYPES.FAVORITE_ACTIONS.SYNCHRONIZE,isSynchronizing:!1}}function receive(e){return{type:_ACTION_TYPES.FAVORITE_ACTIONS.RECEIVE,favorites:e}}function remove(e){return function(r){return r(startSynchronize()),favoriteService.remove(e.id).then(function(){return r(_reduxBatchEnhancer.batchActions([{type:_ACTION_TYPES.FAVORITE_ACTIONS.REMOVE,id:e.id},global.insight.showSystemMessage("favorite.delete.success"),endSynchronize()]))})["catch"](function(e){return r(endSynchronize()),Promise.reject(e)})}}function add(e){return function(r){return r(startSynchronize()),e.name||(e.name=e.identifier),favoriteService.add(e).then(function(e){return r(_reduxBatchEnhancer.batchActions([{type:_ACTION_TYPES.FAVORITE_ACTIONS.ADD,favorite:e},global.insight.showSystemMessage("favorite.save.success"),endSynchronize()]))})["catch"](function(e){return r(endSynchronize()),Promise.reject(e)})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.receive=receive,exports.remove=remove,exports.add=add;var _ACTION_TYPES=require("../infrastructure/ACTION_TYPES"),_favorite=require("inovia-api-client/insight/app/favorite"),favoriteService=_interopRequireWildcard(_favorite),_reduxBatchEnhancer=require("redux-batch-enhancer");