"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.IntervalSelector=void 0;var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_react=require("react"),_react2=_interopRequireDefault(_react),_ValidatableDropDownList=require("./ValidatableDropDownList"),_ValidatableDropDownList2=_interopRequireDefault(_ValidatableDropDownList),_ValidatableTextField=require("./ValidatableTextField"),_ValidatableTextField2=_interopRequireDefault(_ValidatableTextField),_input=require("../utils/validators/input"),TIME_UNITS=["second","minute","hour","day","week","month","year"],IntervalSelector=exports.IntervalSelector=function(e){function t(e){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._handleDropDownChange=r._handleDropDownChange.bind(r),r._handleTextFieldChange=r._handleTextFieldChange.bind(r),r._parseInterval=r._parseInterval.bind(r),r}return _inherits(t,e),_createClass(t,[{key:"_handleDropDownChange",value:function(e){var t=this.props,r=t.onChange,a=t.item,n=this._parseInterval(),i=n.timeValue;r(Object.assign({},a,{interval:i+e}))}},{key:"_handleTextFieldChange",value:function(e){var t=e.target.value,r=this.props,a=r.item,n=r.onChange,i=this._parseInterval(),l=i.timeUnit;_input.isNum(t)&&n(Object.assign({},a,{interval:t+(l?l:"month")}))}},{key:"_parseInterval",value:function(){var e=this.props.item;if(e&&e.interval&&void 0!==e.interval){var t=parseInt(e.interval),r=void 0;return _input.isNum(t)?(t=t.toString(),r=e.interval.substring(t.length)):(t="",r=e.interval),{timeValue:t,timeUnit:r}}return{timeValue:"",timeUnit:"month"}}},{key:"render",value:function(){var e=this._parseInterval(),t=e.timeValue,r=e.timeUnit;return _react2["default"].createElement("div",null,_react2["default"].createElement(_ValidatableTextField2["default"],{isRequired:!1,hintText:"value",floatingLabelText:"value",value:t,onChange:this._handleTextFieldChange}),_react2["default"].createElement(_ValidatableDropDownList2["default"],{items:TIME_UNITS,floatingLabelText:"time unit",onChange:this._handleDropDownChange,value:r}))}}]),t}(_react2["default"].Component);IntervalSelector.propTypes={item:_react2["default"].PropTypes.shape({field:_react2["default"].PropTypes.string.isRequired,interval:_react2["default"].PropTypes.string}).isRequired,onChange:_react2["default"].PropTypes.func.isRequired},exports["default"]=IntervalSelector;